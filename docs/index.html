<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

  <title>Lego Pi-ano</title>

  <meta property="og:title" content="Lego Pi-ano" />
  <meta property="og:description" content="Making the Lego Ideas Grand Piano fully playable using a Raspberry Pi, and using it as a game controller" />
  <meta property="og:url" content="https://debkbanerji.com/lego-pi-ano/assets/diagram_11.jpg" />

</head>

<body>
  <div class="jumbotron">
    <h1 class="display-4">Playable Lego Piano</h1>
    <p class="lead">Making the <a href="https://www.lego.com/en-us/product/grand-piano-21323" target="_blank">Lego Ideas Grand Piano</a>
      fully playable using a Raspberry Pi, and <a href="https://www.youtube.com/watch?v=9nazm3_OXac" target="_blank">using it as a game controller</a>.
    </p>
    <p>
      This is a modification of the original set so that each individual key is recognized. This makes it fully playable, unlike the original.
      The piano doesn't require an app, is fully wireless, and can either play the music through an internal speaker, or stream it over
      a local network for better sound quality and/or gaming. The outside is indistinguishable from that of the original model, and
      the feel of the keys is unchanged. <a href="https://github.com/mihir0/sampler" target="_blank">The sampler used</a>
      supports full 25-key rollover with realistic sounds for each key. </p>
    <p>
      <a href="https://github.com/debkbanerji/lego-pi-ano/tree/master/code" target="_blank">Code</a>
      and <a href="https://github.com/debkbanerji/lego-pi-ano/tree/master/docs/assets" target="_blank">diagrams</a>
      are included for anyone who wants to try modifying their own set. The modification was designed to be easily put together using cheap
      and easily available materials.</p>
  </div>
  <div class="container-fluid">
    <div class="row">
      <div class="col">
        <h2 style="padding-left: 12px">Demos</h2>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div style="padding: 12px">
          <h4>Realistic Playability</h4>
          <div class="embed-responsive embed-responsive-16by9">
            <video controls>
              <source src="assets/demo_1.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
          <div style="padding-top: 10px">
            <p>In this demo, the sound was being streamed to a soundbar, so the quality
              is quite good. You can also use a smaller internal speaker, but it's not
              likely to sound as nice.
            </p>
            <p>The cool part is that the software supports full 25 key rollover,
              so you can press multiple keys at the same time and the sound will still be
              realistic.</p>
            <p>Some keys are a little uneven since I was experimenting with switch types,
              but if you want to make your own, using the same switch creation procedure
              described further down this page should result in pretty even keys.</p>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div style="padding: 12px">
          <h4>Gaming</h4>
          <div class="embed-responsive embed-responsive-16by9">
            <video controls>
              <source src="assets/demo_2.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
          <div style="padding-top: 10px">
            <p>You can also use the piano as one of the strangest game controllers
              of all time.
            </p>
            <p>I tested it with Batman: Arkham Knight, since the combat doesn't
              require many potentially uncomfortable button combos. I played a
              single player game because the piano didn't play well with anticheat in some multiplayer titles.
              The latency is not bad, and using UDP made it very easy to program.
              Theoretically, one could improve this by reprogramming the protocol
              in bluetooth, but if you're worried about latency, (I hope) you
              wouldn't use this in the first place.
            </p>
            <p>You can play wirelessly, but it was plugged in when I recorded
              the video since I had been playing for a bit and needed to charge
              my piano. Welcome to 2020.
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <h2 style="padding-left: 12px">Making Your Own</h2>
        <div style="margin-left: 12px" class="p-3 mb-2 bg-warning text-dark"><b>Disclaimer:</b> Some prior technical knowledge is required
          when putting this together - you'll need to know the basics of how a Raspberry Pi works, and how to execute
          some simple Python code. The code and diagrams themselves aren't very polished, but the procedure should be fairly
          reproducible with some tinkering. That being said, I make no guarantees about your success - the result
          has worked prettty well for me, but that's just a sample size of 1.</div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div style="padding: 12px">
          <h4>The Software</h4>
          TODO: add instructions
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div style="padding: 12px">
          <h4>The Hardware</h4>
          TODO: add diagrams
        </div>
      </div>
    </div>
  </div>
</body>

</html>